1. Get SSL working so that the call into Kubernetes from the local PC is over port 444
   Understand how to configure SSL trust

2. Use a redis client to cache tokens across the cluster

3. Get stdout logging pushing to Elastic Search
   This means pods need to be able to call localhost:9200 on the host

EXPOSING OVER PORT 80
---------------------
https://kubernetes.io/docs/tasks/access-application-cluster/ingress-minikube/

Get rid of NodePort from Kubernetes.yaml and use a lower / standard port instead

Add $(minikube ip) to /etc/hosts:
192.168.64.2 api.mycluster.com
ping api.mycluster.com shows nginx HTML

UP TO HERE
Create a self signed certificate for mycluster.com
kubectl create secret tls api-mycluster.com-tls --cert=api.mycluster.com.crt --key=api.mycluster.com.key
Update ingress.yaml again
Re-run 'kubectl apply -f ingress.yaml'


#
# Output the names of created PODs and indicate success
#
echo "Deployment completed successfully"
kubectl get pod -l app=nodeapi
API_URL=$(minikube service --url nodeapi-svc)/api/companies
echo $API_URL

#
# Troubleshooting commands from outside Kubernetes
#
#curl $API_URL
#kubectl describe service nodeapi-svc
#kubectl logs --tail=100 pod/nodeapi-74f57df659-2tjz5

#
# Troubleshooting commands from inside the POD
#
#kubectl exec --stdin --tty pod/nodeapi-74f57df659-2tjz5 -- /bin/sh
#ls -lr /usr/sampleapi
#apk add curl
#curl http://localhost/api/companies
